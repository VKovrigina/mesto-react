{"version":3,"sources":["components/Header.js","components/Card.js","contexts/CurrentUserContext.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","utils/constants.js","components/App.js","index.js","images/logo.svg"],"names":["Header","className","src","headerLogo","alt","Card","props","onCardClick","onCardLike","onCardDelete","link","name","_id","likes","owner","userId","isLiked","some","i","isOwn","type","onClick","aria-label","length","CurrentUserContext","React","createContext","Main","onEditProfile","onAddPlace","onEditAvatar","initialCards","currentUser","useContext","avatar","about","map","card","key","Footer","ImagePopup","onClose","isOpen","closeByEscAndOverlay","useEffect","PopupWithForm","title","buttonText","children","onSubmit","method","action","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","e","preventDefault","value","onChange","target","id","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","namePlace","setNamePlace","setLink","api","options","this","_baseUrl","baseUrl","_headers","headers","_authorization","authorization","res","ok","json","Promise","reject","status","err","console","log","fetch","then","_handleResponse","catch","_handleResponseError","values","body","JSON","stringify","cardId","App","setCurrentUser","cards","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isPhotoPopupOpen","setIsPhotoPopupOpen","selectedCard","setSelectedCard","closeAllPopups","closePopupByEscAndOverlay","handleEscClose","closeByOverlay","classList","contains","document","addEventListener","removeEventListener","all","getUserInfo","getInitialCards","userInfo","cardsInfo","error","Provider","cardLikes","generateNewCards","newCard","newCards","item","deleteLike","putLike","deleteCard","filter","editProfile","editAvatar","createCard","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.36376836.chunk.js","sourcesContent":["import React from 'react';\nimport headerLogo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n        <img className =\"header__logo\" src={headerLogo}  alt=\"Логотип сайта Место Россия.\" />\n    </header>\n  );\n}\n\nexport default Header;","import React from \"react\";\n\nfunction Card(props) {\n  const { onCardClick, onCardLike, onCardDelete, link, name, _id, likes, owner, userId } = props;\n\n  function handleClick() {\n    onCardClick(name, link);\n  }\n\n  function handleLikeClick() {\n    onCardLike(_id, likes);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(_id);\n  }\n\n  const isLiked = likes.some(i => i._id === userId);\n\n  const isOwn = owner._id === userId;\n\n  return (\n    <article className=\"card\">\n      {isOwn && <button className=\"card__button-delete\" type=\"button\" onClick={handleDeleteClick} aria-label=\"Удалить\"></button>}\n      <img className=\"card__img\" alt={name} src={link} onClick={handleClick} />\n      <div className=\"card__info\">\n        <h2 className=\"card__title\">{name}</h2>\n          <div className=\"card__likes\">\n            <button className={`card__button-like ${isLiked && `card__button-like_active`}`} \n            type=\"button\" aria-label=\"Нравится\"\n            onClick={handleLikeClick}></button>\n            <div className=\"card__num-likes\">{likes.length}</div>\n          </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, initialCards, onCardLike, onCardDelete}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n\n        <section className=\"profile\">\n          <button className=\"profile__avatar-button\" onClick={onEditAvatar}>\n            <img className=\"profile__avatar\" alt=\"Фотография пользователя\" src={currentUser && currentUser.avatar}/>\n          </button>\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\">{currentUser && currentUser.name}</h1>\n            <button className=\"profile__edit-button button\" type=\"button\" aria-label=\"Изменить\" \n            onClick={onEditProfile}></button>\n            <p className=\"profile__job\">{currentUser && currentUser.about}</p>\n          </div>\n          <button className=\"profile__add-button button\" type=\"button\" aria-label=\"Добавить\" \n          onClick={onAddPlace}></button>\n        </section>\n\n        <section className=\"cards\">\n        { initialCards.map((card) => \n          <Card \n          key={card._id}\n          onCardClick={onCardClick}\n          onCardLike={onCardLike}\n          onCardDelete={onCardDelete}\n          {...card}\n          userId={currentUser._id} />)\n        }\n        </section>\n\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n        <p className=\"footer__copyright\">&#169;2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction ImagePopup({card, onClose, isOpen, closeByEscAndOverlay}) {\n\n  React.useEffect(() => {\n    closeByEscAndOverlay()\n  } \n  )\n\n  return (\n    <div className={`popup popup_photo ${isOpen && `popup_open`}`}>\n      <div className=\"popup__container\">\n        <button \n          className=\"popup__close-button button\"\n          type=\"button\" \n          aria-label=\"Закрыть\"\n          onClick={onClose}>\n        </button>\n        <img\n          className=\"popup__img\"\n          alt={card.name} src={card.link} />\n        <p className=\"popup__photo-title\">{card.name}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm({ name ,title ,buttonText, children, onClose, isOpen, onSubmit, closeByEscAndOverlay }) {\n\n  React.useEffect(() => {\n    closeByEscAndOverlay()\n  } \n  )\n\n  return (\n    <div className={`popup popup_${name} popup_form ${isOpen && `popup_open`}`}>\n    <div className=\"popup__container\">\n      <button \n        className=\"popup__close-button button\" \n        type=\"button\" \n        aria-label=\"Закрыть\"\n        onClick= {onClose}>\n      </button>\n      <form className={`popup__form popup__form_${name}`} name={name} method=\"get\" action=\"#\" onSubmit={onSubmit}>\n        <h2 className=\"popup__title\">{title}</h2>\n        {children}\n        <button className=\"popup__form-button\" type=\"submit\" aria-label={buttonText}>{buttonText}</button>\n      </form>\n    </div>\n  </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({onClose, isOpen, onUpdateUser, closeByEscAndOverlay}) {\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, onClose]);\n\n  function handleInputNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleInputDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({\n      name: name,\n      about: description\n    });\n    }\n\n  return (\n    <PopupWithForm\n      name='profile' \n      title='Редактировать профиль' \n      buttonText='Сохранить' \n      onClose={onClose} \n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      closeByEscAndOverlay={closeByEscAndOverlay}>\n      <input\n        value={name}\n        onChange={handleInputNameChange}\n        type=\"text\"\n        name=\"name\"\n        className=\"popup__input popup__input_type_name\"\n        id=\"name-input\"\n        placeholder=\"ФИО\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        required />\n      <span className=\"popup__input-error\" id=\"name-input-error\"></span>\n      <input\n        value={description}\n        onChange={handleInputDescriptionChange}\n        type=\"text\"\n        name=\"about\"\n        className=\"popup__input popup__input_type_job\"\n        id=\"job-input\"\n        placeholder=\"О себе\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required />\n      <span className=\"popup__input-error\" id=\"job-input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({onClose, isOpen, onUpdateAvatar, closeByEscAndOverlay}) {\n\n    const inputRef = React.useRef();\n\n    React.useEffect(() => {\n        inputRef.current.value = ''\n    }, [onClose]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onUpdateAvatar({\n          avatar: inputRef.current.value\n        });\n    }\n\n    return (\n    <PopupWithForm \n        name='edit-avatar' title='Сменить аватар' buttonText='Сохранить'\n        onClose={onClose} isOpen={isOpen} onSubmit={handleSubmit}\n        closeByEscAndOverlay={closeByEscAndOverlay}>\n        <input\n        ref={inputRef}\n        type=\"url\"\n        name=\"avatar\"\n        className=\"popup__input popup__input_type_avatar\"\n        id=\"avatar-input\"\n        placeholder=\"https://...\"\n        required />\n        <span className=\"popup__input-error\" id=\"avatar-input-error\"></span>\n    </PopupWithForm>\n    );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({onClose, isOpen, onAddPlace, closeByEscAndOverlay}) {\n\n  const [namePlace, setNamePlace] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  React.useEffect(() => {\n    setNamePlace('');\n    setLink('');\n  }, [onClose]);\n\n  function handleInputNamePlaceChange(e) {\n    setNamePlace(e.target.value);\n  }\n\n  function handleInputLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPlace({\n      name: namePlace,\n      link: link\n    });\n  }\n\n  return (\n    <PopupWithForm \n      name='place' title='Новое место'\n      buttonText='Создать'\n      onClose={onClose}\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      closeByEscAndOverlay={closeByEscAndOverlay}>\n      <input\n        value={namePlace}\n        onChange={handleInputNamePlaceChange}\n        type=\"text\"\n        name=\"name\"\n        className=\"popup__input popup__input_type_title\"\n        id=\"title-input\"\n        placeholder=\"Название\"\n        minLength=\"1\"\n        maxLength=\"30\"\n      required />\n      <span className=\"popup__input-error\" id=\"title-input-error\"></span>\n      <input\n        value={link}\n        onChange={handleInputLinkChange}\n        type=\"url\"\n        name=\"link\"\n        className=\"popup__input popup__input_type_img\"\n        id=\"img-input\"\n        placeholder=\"Ссылка на картинку\"\n      required />\n      <span className=\"popup__input-error\" id=\"img-input-error\"></span>\n  </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import {apiOptions} from './constants'\n\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n    this._authorization = this._headers.authorization;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.status)\n    }\n  }\n\n  _handleResponseError(err) {\n    console.log(`Ошибка: ${err}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`,\n    {\n      headers: {\n        authorization: this._authorization\n      }\n    })\n    .then(this._handleResponse)\n    .catch(this._handleResponseError)\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: this._authorization\n      }\n    })\n    .then(this._handleResponse)\n    .catch(this._handleResponseError)\n  }\n\n  editProfile(values) {\n    return fetch(`${this._baseUrl}/users/me`, {\n    method: 'PATCH',\n    headers: this._headers,\n    body: JSON.stringify(\n      values\n    )\n    })\n    .then(this._handleResponse)\n    .catch(this._handleResponseError)\n  }\n\n  createCard(values) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(\n        values\n      )\n      })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n      })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n\n  editAvatar(values) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n    method: 'PATCH',\n    headers: this._headers,\n    body: JSON.stringify(\n      values\n    )\n    })\n    .then(this._handleResponse)\n    .catch(this._handleResponseError)\n  }\n\n  putLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers\n      })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n\n  deleteLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n      })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n}\n\n \nconst api = new Api(apiOptions);\nexport default api;","\n//формы\nexport const formProfileSelector = '.popup__form_profile';\nexport const formPlaceSelector = '.popup__form_place';\nexport const formAvatarSelector = '.popup__form_avatar';\n//попапы\nexport const popupProfileSelector = '.popup_profile';\nexport const popupPlaceSelector = '.popup_place';\nexport const popupPhotoSelector = '.popup_photo';\nexport const popupDeleteSelector = '.popup_delete-card';\nexport const popupProfileAvatarSelector = '.popup_edit-avatar';\n//кнопки\nexport const buttonEditSelector = '.profile__edit-button';\nexport const buttonAddSelector = '.profile__add-button';\n//поля форм\nexport const nameInputSelector = '.popup__input_type_name';\nexport const jobInputSelector = '.popup__input_type_job';\n//контэйнер для карточек\nexport const cardContainer = '.cards';\nexport const popupPhotoImgSelector = '.popup__img';\nexport const popupPhotoTitleSelector = '.popup__photo-title';\nexport const avatarSelector = '.profile__avatar';\nexport const avatarButtonSelector = '.profile__avatar-button';\nexport const profileNameSelector = '.profile__name';\nexport const profileAboutSelector = '.profile__job';\n\nexport const formValidationOptions = {\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__form-button',\n  inactiveButtonClass: 'popup__form-button_inactive',\n  inputErrorClass: 'popup__input_type_error'\n};\n\nexport  const apiOptions = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  headers: {\n    authorization: '64f8b885-2658-44d6-bc45-dfe390bdb5b7',\n    'Content-Type': 'application/json'\n  }\n};\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n//Спасибо вам большое за быструю работу и \"гибкость\"! Хорошего вам дня :)\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = React.useState(null);\n  const [cards, setCards] = React.useState(null); \n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isPhotoPopupOpen, setIsPhotoPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n    .then(([userInfo, cardsInfo]) => {\n      setCurrentUser(userInfo);\n      setCards(cardsInfo);\n    })\n    .catch(err => console.error(err))\n  },[]);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(name, link) {\n    setSelectedCard(\n      {name: name,\n      link: link});\n    setIsPhotoPopupOpen(true);\n  }\n  \n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsPhotoPopupOpen(false);\n  }\n\n  function closePopupByEscAndOverlay() {\n    function handleEscClose(e) {\n      if (e.key === \"Escape\") {\n        closeAllPopups()\n      }\n    }\n\n    function closeByOverlay(e) {\n      if (e.target.classList.contains(`popup_open`)) {\n        closeAllPopups()\n      }\n    }\n\n    document.addEventListener('click', closeByOverlay);\n    document.addEventListener('keydown', handleEscClose);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscClose);\n      document.removeEventListener('click', closeByOverlay);\n    }\n  }\n\n  function handleUpdateUser(values) {\n    api.editProfile(values)\n    .then(res => {\n      setCurrentUser({\n        ...currentUser,\n        name: res.name,\n        about: res.about\n      });\n    })\n    .catch(err => console.error(err))\n\n    closeAllPopups();\n  }\n\n  function handleUpdateAvatar(values) {\n    api.editAvatar(values)\n    .then(res => {\n      setCurrentUser({\n        ...currentUser,\n        avatar: res.avatar\n      });\n    })\n    .catch(err => console.error(err))\n\n    closeAllPopups();\n  }\n\n  function handleCardLike(cardId, cardLikes) {\n    const isLiked = cardLikes.some(i => i._id === currentUser._id);\n\n    function generateNewCards(newCard) {\n      const newCards = cards.map((item) => item._id === cardId ? newCard : item);\n      setCards(newCards);\n    }\n\n    isLiked\n    ?  api.deleteLike(cardId)\n      .then(newCard => {\n        generateNewCards(newCard)\n      })\n      .catch(err => console.error(err))\n    :  api.putLike(cardId)\n      .then(newCard => {\n        generateNewCards(newCard)\n      })\n      .catch(err => console.error(err))\n  }\n\n  function handleCardDelete(cardId) {\n    api.deleteCard(cardId)\n    .then(() => {\n      const newCards = cards.filter((item) => item._id !== cardId);\n      setCards(newCards);\n    })\n    .catch(err => console.error(err))\n  }\n\n  function handleAddPlaceSubmit(values) {\n    api.createCard(values)\n    .then(newCard => {\n      setCards([newCard, ...cards]);\n    })\n    .catch(err => console.error(err));\n\n    closeAllPopups();\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"page\">\n\n      <Header />\n\n      {/** MAIN */}\n      { currentUser && cards && <Main \n      onEditAvatar={handleEditAvatarClick}\n      onEditProfile={handleEditProfileClick}\n      onAddPlace={handleAddPlaceClick}\n      onCardClick={handleCardClick}\n      initialCards={cards}\n      onCardLike={handleCardLike}\n      onCardDelete={handleCardDelete}/>}\n\n      {/** EditProfilePopup */}\n      { currentUser && <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        closeByEscAndOverlay={closePopupByEscAndOverlay}/>\n      }\n\n      {/** EditAvatarPopup */}\n      { currentUser && <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        closeByEscAndOverlay={closePopupByEscAndOverlay}/>\n      }\n\n      <AddPlacePopup\n      isOpen={isAddPlacePopupOpen}\n      onClose={closeAllPopups}\n      onAddPlace={handleAddPlaceSubmit}\n      closeByEscAndOverlay={closePopupByEscAndOverlay}/>\n\n      <Footer />\n\n      <ImagePopup card={selectedCard}\n      onClose={closeAllPopups}\n      isOpen={isPhotoPopupOpen}\n      closeByEscAndOverlay={closePopupByEscAndOverlay}/>\n\n      {/* <PopupWithForm name='delete-card' title='Вы уверены?' buttonText='Да'>\n      </PopupWithForm> */}\n\n\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","module.exports = __webpack_public_path__ + \"static/media/logo.2b1f7ee5.svg\";"],"sourceRoot":""}